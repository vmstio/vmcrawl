{
  "apiVersion": "dashboard.grafana.app/v2beta1",
  "kind": "DashboardWithAccessInfo",
  "metadata": {
    "name": "aedqo0q7klrswa",
    "generation": 138,
    "creationTimestamp": "2025-11-21T19:31:21Z",
    "labels": {},
    "annotations": {}
  },
  "spec": {
    "annotations": [
      {
        "kind": "AnnotationQuery",
        "spec": {
          "builtIn": true,
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations & Alerts",
          "query": {
            "group": "grafana",
            "kind": "DataQuery",
            "spec": {},
            "version": "v0"
          }
        }
      }
    ],
    "cursorSync": "Off",
    "description": "Reports Mastodon version data and patch adoption",
    "editable": true,
    "elements": {
      "panel-1": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT COUNT(DISTINCT domain) AS unique_domain_count\nFROM mastodon_domains;",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "",
          "id": 1,
          "links": [],
          "title": "Mastodon Instances",
          "vizConfig": {
            "group": "stat",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "purple",
                        "value": 0
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": []
              },
              "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-101": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "WITH version_cases AS (\n  SELECT latest AS software_version\n  FROM release_versions\n  WHERE status IN ('release', 'main')\n),\neol_check AS (\n  SELECT DISTINCT md.software_version\n  FROM mastodon_domains md\n  WHERE EXISTS (\n    SELECT 1\n    FROM release_versions rv\n    WHERE rv.status = 'eol'\n      AND md.software_version LIKE rv.branch || '.%'\n  )\n),\nagg AS (\n  SELECT\n    COUNT(DISTINCT md.domain) AS total_domains,\n    COALESCE(SUM(md.active_users_monthly), 0) AS total_users,\n    COUNT(*) FILTER (\n      WHERE md.software_version IN (SELECT software_version FROM eol_check)\n         OR md.software_version NOT IN (SELECT software_version FROM version_cases)\n    ) AS unpatched_or_eol_domains,\n    COALESCE(SUM(md.active_users_monthly) FILTER (\n      WHERE md.software_version IN (SELECT software_version FROM eol_check)\n         OR md.software_version NOT IN (SELECT software_version FROM version_cases)\n    ), 0) AS unpatched_or_eol_users\n  FROM mastodon_domains md\n)\nSELECT\n  ((total_domains - unpatched_or_eol_domains) * 100.0 / NULLIF(total_domains, 0)) AS \"Instances\",\n  ((total_users   - unpatched_or_eol_users)   * 100.0 / NULLIF(total_users, 0))   AS \"MAU\"\nFROM agg;\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "Instances and monthly active user (MAU) count from instances deploying the latest patch versions (${supported_patches:csv})",
          "id": 101,
          "links": [],
          "title": "Patch Coverage",
          "vizConfig": {
            "group": "stat",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "decimals": 1,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "purple",
                        "value": 0
                      }
                    ]
                  },
                  "unit": "percent"
                },
                "overrides": []
              },
              "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "center",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-102": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "WITH supported_branches AS (\n  SELECT DISTINCT branch\n  FROM release_versions\n  WHERE status IN ('release', 'main')\n),\neol_branches AS (\n  SELECT DISTINCT branch\n  FROM release_versions\n  WHERE status = 'eol'\n),\nagg AS (\n  SELECT\n    COUNT(DISTINCT md.domain) AS total_domains,\n    COALESCE(SUM(md.active_users_monthly), 0) AS total_users,\n\n    COUNT(DISTINCT md.domain) FILTER (\n      WHERE EXISTS (\n              SELECT 1\n              FROM eol_branches eb\n              WHERE md.software_version LIKE eb.branch || '.%'\n            )\n         OR NOT EXISTS (\n              SELECT 1\n              FROM supported_branches sb\n              WHERE md.software_version LIKE sb.branch || '.%'\n            )\n    ) AS unsupported_or_eol_domains,\n\n    COALESCE(SUM(md.active_users_monthly) FILTER (\n      WHERE EXISTS (\n              SELECT 1\n              FROM eol_branches eb\n              WHERE md.software_version LIKE eb.branch || '.%'\n            )\n         OR NOT EXISTS (\n              SELECT 1\n              FROM supported_branches sb\n              WHERE md.software_version LIKE sb.branch || '.%'\n            )\n    ), 0) AS unsupported_or_eol_users\n  FROM mastodon_domains md\n)\nSELECT\n  ((total_domains - unsupported_or_eol_domains) * 100.0 / NULLIF(total_domains, 0)) AS \"Instances\",\n  ((total_users   - unsupported_or_eol_users)   * 100.0 / NULLIF(total_users, 0))   AS \"MAU\"\nFROM agg;\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "Instances and monthly active user (MAU) count from instances deploying a supported branch (${supported_branches:csv})",
          "id": 102,
          "links": [],
          "title": "Supported Branches",
          "vizConfig": {
            "group": "stat",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "decimals": 1,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "purple",
                        "value": 0
                      }
                    ]
                  },
                  "unit": "percent"
                },
                "overrides": []
              },
              "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "center",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-11": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT COUNT(DISTINCT domain) as \"Main Patched\"\nFROM mastodon_domains \nWHERE software_version LIKE (\n    SELECT latest\n    FROM release_versions \n    WHERE n_level = -1\n) || '%';\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT COUNT(DISTINCT domain) as \"Main Total\"\nFROM mastodon_domains \nWHERE software_version LIKE (\n    SELECT branch || '.%'\n    FROM release_versions \n    WHERE n_level = -1\n);\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "B"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "configFromData",
                  "spec": {
                    "id": "configFromData",
                    "options": {
                      "applyTo": {
                        "id": "byType",
                        "options": "number"
                      },
                      "configRefId": "B",
                      "mappings": [
                        {
                          "fieldName": "Main Total",
                          "handlerKey": "max",
                          "reducerId": "lastNotNull"
                        }
                      ]
                    }
                  }
                }
              ]
            }
          },
          "description": "Count of instances running $main_latest off the main development branch ($main_branch) compared to the total instances on the main development branch.",
          "id": 11,
          "links": [],
          "title": "Patched Instances, Main ($main_branch)",
          "vizConfig": {
            "group": "gauge",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "fieldMinMax": false,
                  "min": 0,
                  "thresholds": {
                    "mode": "percentage",
                    "steps": [
                      {
                        "color": "red",
                        "value": 0
                      },
                      {
                        "color": "orange",
                        "value": 33
                      },
                      {
                        "color": "green",
                        "value": 66
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": []
              },
              "options": {
                "barShape": "rounded",
                "barWidthFactor": 0.75,
                "effects": {
                  "barGlow": false,
                  "centerGlow": false,
                  "gradient": false
                },
                "endpointMarker": "none",
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "/.*/",
                  "values": true
                },
                "segmentCount": 1,
                "segmentSpacing": 0.3,
                "shape": "gauge",
                "showThresholdLabels": false,
                "showThresholdMarkers": false,
                "sizing": "auto",
                "sparkline": false,
                "textMode": "value"
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-21": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT COUNT(DISTINCT domain) AS \"Latest Patched\"\nFROM mastodon_domains\nWHERE software_version =\n(\n    SELECT latest\n    FROM release_versions\n    WHERE n_level = 0\n);\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT COUNT(DISTINCT domain) as \"Latest Total\"\nFROM mastodon_domains \nWHERE software_version LIKE (\n    SELECT branch || '.%'\n    FROM release_versions \n    WHERE n_level = 0\n);\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "B"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "configFromData",
                  "spec": {
                    "id": "configFromData",
                    "options": {
                      "configRefId": "B",
                      "mappings": [
                        {
                          "fieldName": "Latest Total",
                          "handlerKey": "max"
                        }
                      ]
                    }
                  }
                }
              ]
            }
          },
          "description": "Count of instances running $latest_latest off the latest release branch ($latest_branch) compared to the total instances on the latest release branch.",
          "id": 21,
          "links": [],
          "title": "Patched Instances, Latest ($latest_branch)",
          "vizConfig": {
            "group": "gauge",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "fieldMinMax": false,
                  "min": 0,
                  "thresholds": {
                    "mode": "percentage",
                    "steps": [
                      {
                        "color": "red",
                        "value": 0
                      },
                      {
                        "color": "orange",
                        "value": 33
                      },
                      {
                        "color": "green",
                        "value": 66
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": []
              },
              "options": {
                "barShape": "rounded",
                "barWidthFactor": 0.75,
                "effects": {
                  "barGlow": false,
                  "centerGlow": false,
                  "gradient": false
                },
                "endpointMarker": "none",
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "/.*/",
                  "values": true
                },
                "segmentCount": 1,
                "segmentSpacing": 0.3,
                "shape": "gauge",
                "showThresholdLabels": false,
                "showThresholdMarkers": false,
                "sizing": "auto",
                "sparkline": false,
                "textMode": "value"
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-22": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT COUNT(DISTINCT domain) as \"Latest Patched\" \nFROM mastodon_domains md\nWHERE md.software_version LIKE ANY (\n    SELECT latest || '%'\n    FROM release_versions \n    WHERE n_level = 1\n);\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT COUNT(DISTINCT domain) as \"Latest Total\"\nFROM mastodon_domains \nWHERE software_version LIKE (\n    SELECT branch || '.%'\n    FROM release_versions \n    WHERE n_level = 1\n);\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "B"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "configFromData",
                  "spec": {
                    "id": "configFromData",
                    "options": {
                      "configRefId": "B",
                      "mappings": [
                        {
                          "fieldName": "Latest Total",
                          "handlerKey": "max"
                        }
                      ]
                    }
                  }
                }
              ]
            }
          },
          "description": "Count of instances running $previous_latest off the latest release branch ($previous_branch) compared to the total instances on the previous release branch.",
          "id": 22,
          "links": [],
          "title": "Patched Instances, Previous ($previous_branch)",
          "vizConfig": {
            "group": "gauge",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "fieldMinMax": false,
                  "min": 0,
                  "thresholds": {
                    "mode": "percentage",
                    "steps": [
                      {
                        "color": "red",
                        "value": 0
                      },
                      {
                        "color": "orange",
                        "value": 33
                      },
                      {
                        "color": "green",
                        "value": 66
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": []
              },
              "options": {
                "barShape": "rounded",
                "barWidthFactor": 0.75,
                "effects": {
                  "barGlow": false,
                  "centerGlow": false,
                  "gradient": false
                },
                "endpointMarker": "none",
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "/.*/",
                  "values": true
                },
                "segmentCount": 1,
                "segmentSpacing": 0.3,
                "shape": "gauge",
                "showThresholdLabels": false,
                "showThresholdMarkers": false,
                "sizing": "auto",
                "sparkline": false,
                "textMode": "value"
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-32": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT SUM(active_users_monthly) as updated_users\nFROM mastodon_domains \nWHERE software_version LIKE ANY (\n    SELECT latest || '%'\n    FROM release_versions \n    WHERE n_level = -1\n);\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT SUM(active_users_monthly) as \"Main Total\"\nFROM mastodon_domains\nWHERE software_version LIKE (\nSELECT branch || '.%'\nFROM release_versions\nWHERE n_level = -1\n);",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "B"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "configFromData",
                  "spec": {
                    "id": "configFromData",
                    "options": {
                      "applyTo": {
                        "id": "byType",
                        "options": "number"
                      },
                      "configRefId": "B",
                      "mappings": [
                        {
                          "fieldName": "Main Total",
                          "handlerKey": "max",
                          "reducerId": "lastNotNull"
                        }
                      ]
                    }
                  }
                }
              ]
            }
          },
          "description": "Count of monthly active users (MAUs) on instances running $main_latest off the main development branch ($main_branch) compared to the total MAU on the main development branch.",
          "id": 32,
          "links": [],
          "title": "Patched MAUs, Main ($main_branch)",
          "vizConfig": {
            "group": "gauge",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "fieldMinMax": false,
                  "min": 0,
                  "thresholds": {
                    "mode": "percentage",
                    "steps": [
                      {
                        "color": "red",
                        "value": 0
                      },
                      {
                        "color": "orange",
                        "value": 33
                      },
                      {
                        "color": "green",
                        "value": 66
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": []
              },
              "options": {
                "barShape": "rounded",
                "barWidthFactor": 0.75,
                "effects": {
                  "barGlow": false,
                  "centerGlow": false,
                  "gradient": false
                },
                "endpointMarker": "none",
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "/.*/",
                  "values": true
                },
                "segmentCount": 1,
                "segmentSpacing": 0.3,
                "shape": "gauge",
                "showThresholdLabels": false,
                "showThresholdMarkers": false,
                "sizing": "auto",
                "sparkline": false,
                "textMode": "value"
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-35": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT SUM(active_users_monthly) AS updated_users\nFROM mastodon_domains\nWHERE software_version =\n(\n    SELECT latest\n    FROM release_versions\n    WHERE n_level = 0\n);\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT SUM(active_users_monthly) as \"Main Total\"\nFROM mastodon_domains\nWHERE software_version LIKE (\nSELECT branch || '.%'\nFROM release_versions\nWHERE n_level = 0\n);",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "B"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "configFromData",
                  "spec": {
                    "id": "configFromData",
                    "options": {
                      "applyTo": {
                        "id": "byType",
                        "options": "number"
                      },
                      "configRefId": "B",
                      "mappings": [
                        {
                          "fieldName": "Main Total",
                          "handlerKey": "max",
                          "reducerId": "lastNotNull"
                        }
                      ]
                    }
                  }
                }
              ]
            }
          },
          "description": "Count of monthly active users (MAUs) on instances running $latest_latest off the latest release branch ($latest_branch) compared to the total MAU on the latest release branch.",
          "id": 35,
          "links": [],
          "title": "Patched MAUs, Latest ($latest_branch)",
          "vizConfig": {
            "group": "gauge",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "fieldMinMax": false,
                  "min": 0,
                  "thresholds": {
                    "mode": "percentage",
                    "steps": [
                      {
                        "color": "red",
                        "value": 0
                      },
                      {
                        "color": "orange",
                        "value": 33
                      },
                      {
                        "color": "green",
                        "value": 66
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": []
              },
              "options": {
                "barShape": "rounded",
                "barWidthFactor": 0.75,
                "effects": {
                  "barGlow": false,
                  "centerGlow": false,
                  "gradient": false
                },
                "endpointMarker": "none",
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "/.*/",
                  "values": true
                },
                "segmentCount": 1,
                "segmentSpacing": 0.3,
                "shape": "gauge",
                "showThresholdLabels": false,
                "showThresholdMarkers": false,
                "sizing": "auto",
                "sparkline": false,
                "textMode": "value"
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-36": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT SUM(active_users_monthly) as updated_users\nFROM mastodon_domains md\nWHERE md.software_version LIKE ANY (\n    SELECT latest || '%'\n    FROM release_versions \n    WHERE n_level = 1\n);",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT SUM(active_users_monthly) as \"Main Total\"\nFROM mastodon_domains\nWHERE software_version LIKE (\nSELECT branch || '.%'\nFROM release_versions\nWHERE n_level = 1\n);",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "B"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "configFromData",
                  "spec": {
                    "id": "configFromData",
                    "options": {
                      "applyTo": {
                        "id": "byType",
                        "options": "number"
                      },
                      "configRefId": "B",
                      "mappings": [
                        {
                          "fieldName": "Main Total",
                          "handlerKey": "max",
                          "reducerId": "lastNotNull"
                        }
                      ]
                    }
                  }
                }
              ]
            }
          },
          "description": "Count of monthly active users (MAUs) on instances running $previous_latest off the latest release branch ($previous_branch) compared to the total MAU on the latest release branch.",
          "id": 36,
          "links": [],
          "title": "Patched MAUs, Previous ($previous_branch)",
          "vizConfig": {
            "group": "gauge",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "fieldMinMax": false,
                  "min": 0,
                  "thresholds": {
                    "mode": "percentage",
                    "steps": [
                      {
                        "color": "red",
                        "value": 0
                      },
                      {
                        "color": "orange",
                        "value": 33
                      },
                      {
                        "color": "green",
                        "value": 66
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": []
              },
              "options": {
                "barShape": "rounded",
                "barWidthFactor": 0.75,
                "effects": {
                  "barGlow": false,
                  "centerGlow": false,
                  "gradient": false
                },
                "endpointMarker": "none",
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "/.*/",
                  "values": true
                },
                "segmentCount": 1,
                "segmentSpacing": 0.3,
                "shape": "gauge",
                "showThresholdLabels": false,
                "showThresholdMarkers": false,
                "sizing": "auto",
                "sparkline": false,
                "textMode": "value"
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-41": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT SUM(active_users_monthly) AS total_users FROM mastodon_domains;",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "Based on the total count of reported monthly active users (MAU) of all visible Mastodon instances.",
          "id": 41,
          "links": [],
          "title": "Mastodon Active Users (MAU)",
          "vizConfig": {
            "group": "stat",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "purple",
                        "value": 0
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": []
              },
              "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "auto",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-5": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "WITH version_cases AS (\n  SELECT latest AS software_version\n  FROM release_versions\n  WHERE status IN ('release', 'main')\n),\neol_check AS (\n  SELECT DISTINCT md.software_version\n  FROM mastodon_domains md\n  WHERE EXISTS (\n    SELECT 1 \n    FROM release_versions rv\n    WHERE rv.status = 'eol'\n      AND md.software_version LIKE rv.branch || '.%'\n  )\n)\nSELECT \n  CASE \n    WHEN software_version IN (SELECT software_version FROM version_cases) THEN software_version\n    WHEN software_version IN (SELECT software_version FROM eol_check) THEN 'EOL'\n    ELSE 'Unpatched'\n  END as version,\n  COUNT(*) as count\nFROM mastodon_domains \nGROUP BY CASE \n    WHEN software_version IN (SELECT software_version FROM version_cases) THEN software_version\n    WHEN software_version IN (SELECT software_version FROM eol_check) THEN 'EOL'\n    ELSE 'Unpatched'\n  END;\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "",
          "id": 5,
          "links": [],
          "title": "Latest Patches by Instances",
          "vizConfig": {
            "group": "piechart",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "fixedColor": "purple",
                    "mode": "shades"
                  },
                  "custom": {
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    }
                  },
                  "decimals": 1,
                  "unit": "locale"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "EOL"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "Unpatched"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "yellow",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "options": {
                "displayLabels": [],
                "legend": {
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true,
                  "values": [
                    "percent"
                  ]
                },
                "pieType": "donut",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": true
                },
                "sort": "desc",
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-66": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "WITH prefixes AS (\n    SELECT branch \n    FROM release_versions \n    WHERE status IN ('release', 'main')\n),\nmatched AS (\n    SELECT\n        pv.branch AS prefix,\n        COUNT(md.software_version) AS total\n    FROM prefixes pv\n    LEFT JOIN mastodon_domains md\n      ON md.software_version LIKE pv.branch || '%'\n    GROUP BY pv.branch\n),\neol AS (\n    SELECT\n        'EOL' AS prefix,\n        COUNT(*) AS total\n    FROM mastodon_domains md\n    WHERE EXISTS (\n        SELECT 1\n        FROM release_versions rv\n        WHERE rv.status = 'eol'\n          AND md.software_version LIKE rv.branch || '%'\n    )\n)\nSELECT * FROM matched\nUNION ALL\nSELECT * FROM eol\nORDER BY prefix;\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "",
          "id": 66,
          "links": [],
          "title": "Supported Branch by Instances",
          "vizConfig": {
            "group": "piechart",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "fixedColor": "green",
                    "mode": "shades"
                  },
                  "custom": {
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    }
                  },
                  "decimals": 1,
                  "unit": "locale"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "EOL"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "options": {
                "displayLabels": [],
                "legend": {
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true,
                  "values": [
                    "percent"
                  ]
                },
                "pieType": "donut",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": true
                },
                "sort": "desc",
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-67": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "WITH prefixes AS (\n    SELECT branch \n    FROM release_versions \n    WHERE status IN ('release', 'main')\n),\nmatched AS (\n    SELECT\n        pv.branch AS prefix,\n        SUM(md.active_users_monthly) AS total_active_users\n    FROM prefixes pv\n    LEFT JOIN mastodon_domains md\n      ON md.software_version LIKE pv.branch || '%'\n    GROUP BY pv.branch\n),\neol AS (\n    SELECT\n        'EOL' AS prefix,\n        SUM(active_users_monthly) AS total_active_users\n    FROM mastodon_domains md\n    WHERE EXISTS (\n        SELECT 1\n        FROM release_versions rv\n        WHERE rv.status = 'eol'\n          AND md.software_version LIKE rv.branch || '%'\n    )\n)\nSELECT * FROM matched\nUNION ALL\nSELECT * FROM eol\nORDER BY prefix;\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "",
          "id": 67,
          "links": [],
          "title": "Supported Branch by MAUs",
          "vizConfig": {
            "group": "piechart",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "fixedColor": "green",
                    "mode": "shades"
                  },
                  "custom": {
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    }
                  },
                  "decimals": 1,
                  "unit": "locale"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "EOL"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "options": {
                "displayLabels": [],
                "legend": {
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true,
                  "values": [
                    "percent"
                  ]
                },
                "pieType": "donut",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": true
                },
                "sort": "desc",
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-7": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "WITH version_cases AS (\n  SELECT latest AS software_version\n  FROM release_versions\n  WHERE status IN ('release', 'main')\n),\neol_check AS (\n  SELECT DISTINCT md.software_version\n  FROM mastodon_domains md\n  WHERE EXISTS (\n    SELECT 1 \n    FROM release_versions rv\n    WHERE rv.status = 'eol'\n      AND md.software_version LIKE rv.branch || '.%'\n  )\n)\nSELECT \n  CASE \n    WHEN software_version IN (SELECT software_version FROM version_cases) THEN software_version\n    WHEN software_version IN (SELECT software_version FROM eol_check) THEN 'EOL'\n    ELSE 'Unpatched'\n  END as version,\n  SUM(active_users_monthly) as user_count\nFROM mastodon_domains \nGROUP BY CASE \n    WHEN software_version IN (SELECT software_version FROM version_cases) THEN software_version\n    WHEN software_version IN (SELECT software_version FROM eol_check) THEN 'EOL'\n    ELSE 'Unpatched'\n  END;\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "",
          "id": 7,
          "links": [],
          "title": "Latest Patches by MAUs",
          "vizConfig": {
            "group": "piechart",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "fixedColor": "purple",
                    "mode": "shades"
                  },
                  "custom": {
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    }
                  },
                  "decimals": 1,
                  "unit": "locale"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "EOL"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "Unpatched"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "yellow",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "options": {
                "displayLabels": [],
                "legend": {
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true,
                  "values": [
                    "percent"
                  ]
                },
                "pieType": "donut",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": true
                },
                "sort": "desc",
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-70": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "WITH recent_releases AS (\n    SELECT \n        branch,\n        n_level\n    FROM release_versions\n    WHERE status IN ('release', 'eol')\n    ORDER BY n_level\n    LIMIT 7\n),\ntotal_count AS (\n    SELECT COUNT(*) as total\n    FROM mastodon_domains\n    WHERE software_version IS NOT NULL\n),\nadoption_calc AS (\n    SELECT\n        rr.branch || '+' as version_label,\n        rr.n_level,\n        COUNT(CASE WHEN EXISTS (\n            SELECT 1 FROM release_versions rv \n            WHERE rv.n_level <= rr.n_level \n            AND md.software_version LIKE rv.branch || '%'\n        ) THEN 1 END) * 100.0 / tc.total AS adoption_percent\n    FROM recent_releases rr\n    CROSS JOIN mastodon_domains md\n    CROSS JOIN total_count tc\n    WHERE md.software_version IS NOT NULL\n    GROUP BY rr.branch, rr.n_level, tc.total\n)\nSELECT \n    version_label,\n    adoption_percent\nFROM adoption_calc\nORDER BY n_level;\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "",
          "id": 70,
          "links": [],
          "title": "Percent of Instances",
          "vizConfig": {
            "group": "bargauge",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "purple",
                        "value": 0
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "options": {
                "displayMode": "gradient",
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": false
                },
                "maxVizHeight": 300,
                "minVizHeight": 16,
                "minVizWidth": 8,
                "namePlacement": "auto",
                "orientation": "auto",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": true
                },
                "showUnfilled": true,
                "sizing": "auto",
                "valueMode": "color"
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-71": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "WITH recent_releases AS (\n    -- Get the 7 most recent releases ordered by n_level\n    SELECT \n        branch,\n        n_level\n    FROM release_versions\n    WHERE status IN ('release', 'eol')\n    ORDER BY n_level\n    LIMIT 7\n),\ntotal_mau AS (\n    SELECT SUM(active_users_monthly) as total\n    FROM mastodon_domains\n    WHERE software_version IS NOT NULL\n      AND active_users_monthly IS NOT NULL\n),\nadoption_calc AS (\n    SELECT\n        rr.branch || '+' as version_label,\n        rr.n_level,\n        SUM(CASE WHEN EXISTS (\n            SELECT 1 FROM release_versions rv \n            WHERE rv.n_level <= rr.n_level \n            AND md.software_version LIKE rv.branch || '%'\n        ) THEN md.active_users_monthly ELSE 0 END) * 100.0 / tm.total AS adoption_percent\n    FROM recent_releases rr\n    CROSS JOIN mastodon_domains md\n    CROSS JOIN total_mau tm\n    WHERE md.software_version IS NOT NULL\n      AND md.active_users_monthly IS NOT NULL\n    GROUP BY rr.branch, rr.n_level, tm.total\n)\nSELECT \n    version_label,\n    adoption_percent\nFROM adoption_calc\nORDER BY n_level;\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "",
          "id": 71,
          "links": [],
          "title": "Percent of MAUs",
          "vizConfig": {
            "group": "bargauge",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "fieldMinMax": false,
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "purple",
                        "value": 0
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "options": {
                "displayMode": "gradient",
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": false
                },
                "maxVizHeight": 300,
                "minVizHeight": 16,
                "minVizWidth": 8,
                "namePlacement": "auto",
                "orientation": "auto",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": true
                },
                "showUnfilled": true,
                "sizing": "auto",
                "valueMode": "color"
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-73": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT COUNT(DISTINCT domain) as \"Latest Patched\" \nFROM mastodon_domains md\nWHERE md.software_version LIKE ANY (\n    SELECT latest || '%'\n    FROM release_versions \n    WHERE n_level >= 2\n    AND status != 'eol'\n);\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT COUNT(DISTINCT domain) as \"Latest Total\"\nFROM mastodon_domains \nWHERE software_version LIKE ANY (\n    SELECT branch || '.%'\n    FROM release_versions \n    WHERE n_level >= 2\n    AND status != 'eol'\n);\n",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "B"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "configFromData",
                  "spec": {
                    "id": "configFromData",
                    "options": {
                      "configRefId": "B",
                      "mappings": [
                        {
                          "fieldName": "Latest Total",
                          "handlerKey": "max"
                        }
                      ]
                    }
                  }
                }
              ]
            }
          },
          "description": "Count of instances running ${deprecated_latest:csv} off any deprecated release branches (${deprecated_branch:csv}) compared to the total instances on any deprecated release branches.",
          "id": 73,
          "links": [],
          "title": "Patched Instances, Deprecated (${deprecated_branch:csv})",
          "vizConfig": {
            "group": "gauge",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "fieldMinMax": false,
                  "min": 0,
                  "thresholds": {
                    "mode": "percentage",
                    "steps": [
                      {
                        "color": "red",
                        "value": 0
                      },
                      {
                        "color": "orange",
                        "value": 33
                      },
                      {
                        "color": "green",
                        "value": 66
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": []
              },
              "options": {
                "barShape": "rounded",
                "barWidthFactor": 0.75,
                "effects": {
                  "barGlow": false,
                  "centerGlow": false,
                  "gradient": false
                },
                "endpointMarker": "none",
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "/.*/",
                  "values": true
                },
                "segmentCount": 1,
                "segmentSpacing": 0.3,
                "shape": "gauge",
                "showThresholdLabels": false,
                "showThresholdMarkers": false,
                "sizing": "auto",
                "sparkline": false,
                "textMode": "value"
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-74": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT SUM(active_users_monthly) as updated_users\nFROM mastodon_domains md\nWHERE md.software_version LIKE ANY (\n    SELECT latest || '%'\n    FROM release_versions \n    WHERE n_level >= 2\n    AND status != 'eol'\n);",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT SUM(active_users_monthly) as \"Main Total\"\nFROM mastodon_domains\nWHERE software_version LIKE ANY (\nSELECT branch || '.%'\nFROM release_versions\nWHERE n_level >= 1\nAND status != 'eol'\n);",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "B"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "configFromData",
                  "spec": {
                    "id": "configFromData",
                    "options": {
                      "applyTo": {
                        "id": "byType",
                        "options": "number"
                      },
                      "configRefId": "B",
                      "mappings": [
                        {
                          "fieldName": "Main Total",
                          "handlerKey": "max",
                          "reducerId": "lastNotNull"
                        }
                      ]
                    }
                  }
                }
              ]
            }
          },
          "description": "Count of monthly active users (MAUs) on instances running ${deprecated_latest:csv} off any deprecated release branches (${deprecated_branch:csv}) compared to the total MAU on any deprecated release branches.",
          "id": 74,
          "links": [],
          "title": "Patched MAUs, Deprecated (${deprecated_branch:csv})",
          "vizConfig": {
            "group": "gauge",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "fieldMinMax": false,
                  "min": 0,
                  "thresholds": {
                    "mode": "percentage",
                    "steps": [
                      {
                        "color": "red",
                        "value": 0
                      },
                      {
                        "color": "orange",
                        "value": 33
                      },
                      {
                        "color": "green",
                        "value": 66
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": []
              },
              "options": {
                "barShape": "rounded",
                "barWidthFactor": 0.75,
                "effects": {
                  "barGlow": false,
                  "centerGlow": false,
                  "gradient": false
                },
                "endpointMarker": "none",
                "minVizHeight": 75,
                "minVizWidth": 75,
                "orientation": "auto",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "/.*/",
                  "values": true
                },
                "segmentCount": 1,
                "segmentSpacing": 0.3,
                "shape": "gauge",
                "showThresholdLabels": false,
                "showThresholdMarkers": false,
                "sizing": "auto",
                "sparkline": false,
                "textMode": "value"
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-76": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT \n    md.domain AS \"Instances\",\n    md.software_version AS \"Version\",\n    md.full_version AS \"Raw Version\",\n    md.active_users_monthly AS \"Monthly Active Users\",\n    md.\"timestamp\" AS \"Last Crawled\"\nFROM mastodon_domains md\nWHERE NOT EXISTS (\n    SELECT 1\n    FROM dni\n    WHERE md.domain LIKE '%' || dni.domain\n)\nORDER BY md.active_users_monthly DESC;",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [
                                {
                                  "name": "*",
                                  "type": "functionParameter"
                                }
                              ],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        },
                        "table": "mastodon_domains"
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "Instances which appear on the IFTAS DNI list are not reported on in detail, but may be included in the aggregated results above.",
          "id": 76,
          "links": [],
          "title": "All Instances",
          "vizConfig": {
            "group": "table",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {
                    "align": "auto",
                    "cellOptions": {
                      "type": "auto"
                    },
                    "filterable": true,
                    "footer": {
                      "reducers": []
                    },
                    "inspect": false
                  },
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": 0
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "Monthly Active Users"
                    },
                    "properties": [
                      {
                        "id": "custom.align",
                        "value": "auto"
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "Last Crawled"
                    },
                    "properties": [
                      {
                        "id": "custom.align",
                        "value": "right"
                      }
                    ]
                  }
                ]
              },
              "options": {
                "cellHeight": "md",
                "enablePagination": true,
                "showHeader": true,
                "sortBy": [
                  {
                    "desc": true,
                    "displayName": "Monthly Active Users"
                  }
                ]
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-88": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "dataset": "",
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT\n  statistics.date AS time,\n  statistics.main_patched_instances AS \"Main Branch\",\n  statistics.latest_patched_instances AS \"Latest Branch\",\n  statistics.previous_patched_instances AS \"Previous Branch\",\n  statistics.deprecated_patched_instances AS \"Deprecated Branch\"\nFROM\n  statistics\nORDER BY\n  statistics.date DESC\nLIMIT 10;",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "organize",
                  "spec": {
                    "id": "organize",
                    "options": {}
                  }
                },
                {
                  "kind": "sortBy",
                  "spec": {
                    "id": "sortBy",
                    "options": {
                      "fields": {},
                      "sort": [
                        {
                          "field": "time"
                        }
                      ]
                    }
                  }
                },
                {
                  "kind": "formatTime",
                  "spec": {
                    "id": "formatTime",
                    "options": {
                      "outputFormat": "DD-MMM",
                      "timeField": "time",
                      "timezone": "utc",
                      "useTimezone": true
                    }
                  }
                }
              ]
            }
          },
          "description": "",
          "id": 88,
          "links": [],
          "title": "Patches by Instance",
          "vizConfig": {
            "group": "barchart",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "fillOpacity": 80,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "lineWidth": 1,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "fieldMinMax": false,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": 0
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "options": {
                "barRadius": 0.1,
                "barWidth": 0.97,
                "fullHighlight": false,
                "groupWidth": 0.7,
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "orientation": "horizontal",
                "showValue": "never",
                "stacking": "normal",
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                },
                "xField": "time",
                "xTickLabelRotation": 0,
                "xTickLabelSpacing": 0
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-89": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "dataset": "",
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT\n  statistics.date AS time,\n  statistics.main_patched_mau AS \"Main Branch\",\n  statistics.latest_patched_mau AS \"Latest Branch\",\n  statistics.previous_patched_mau AS \"Previous Branch\",\n  statistics.deprecated_patched_mau AS \"Deprecated Branch\"\nFROM\n  statistics\nORDER BY\n  statistics.date DESC\nLIMIT 10;",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "organize",
                  "spec": {
                    "id": "organize",
                    "options": {}
                  }
                },
                {
                  "kind": "sortBy",
                  "spec": {
                    "id": "sortBy",
                    "options": {
                      "fields": {},
                      "sort": [
                        {
                          "field": "time"
                        }
                      ]
                    }
                  }
                },
                {
                  "kind": "formatTime",
                  "spec": {
                    "id": "formatTime",
                    "options": {
                      "outputFormat": "DD-MMM",
                      "timeField": "time",
                      "timezone": "utc",
                      "useTimezone": true
                    }
                  }
                }
              ]
            }
          },
          "description": "",
          "id": 89,
          "links": [],
          "title": "Patches by MAU",
          "vizConfig": {
            "group": "barchart",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "fillOpacity": 80,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "lineWidth": 1,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": 0
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "options": {
                "barRadius": 0.1,
                "barWidth": 0.97,
                "fullHighlight": false,
                "groupWidth": 0.7,
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "orientation": "horizontal",
                "showValue": "never",
                "stacking": "normal",
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                },
                "xField": "time",
                "xTickLabelRotation": 0,
                "xTickLabelSpacing": 0
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-90": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "dataset": "",
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT\n  statistics.date AS time,\n  statistics.main_instances AS \"Main Branch\",\n  statistics.latest_instances AS \"Latest Branch\",\n  statistics.previous_instances AS \"Previous Branch\",\n  statistics.deprecated_instances AS \"Deprecated Branch\",\n  statistics.eol_instances AS \"EOL Branches\"\nFROM\n  statistics\nORDER BY\n  statistics.date DESC\nLIMIT 10;",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "organize",
                  "spec": {
                    "id": "organize",
                    "options": {}
                  }
                },
                {
                  "kind": "sortBy",
                  "spec": {
                    "id": "sortBy",
                    "options": {
                      "fields": {},
                      "sort": [
                        {
                          "field": "time"
                        }
                      ]
                    }
                  }
                },
                {
                  "kind": "formatTime",
                  "spec": {
                    "id": "formatTime",
                    "options": {
                      "outputFormat": "DD-MMM",
                      "timeField": "time",
                      "timezone": "utc",
                      "useTimezone": true
                    }
                  }
                }
              ]
            }
          },
          "description": "",
          "id": 90,
          "links": [],
          "title": "Branches by Instance",
          "vizConfig": {
            "group": "barchart",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "fillOpacity": 80,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "lineWidth": 1,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": 0
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "options": {
                "barRadius": 0.1,
                "barWidth": 0.97,
                "fullHighlight": false,
                "groupWidth": 0.7,
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "orientation": "horizontal",
                "showValue": "never",
                "stacking": "normal",
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                },
                "xField": "time",
                "xTickLabelRotation": 0,
                "xTickLabelSpacing": 0
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-91": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "dataset": "",
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "SELECT\n  statistics.date AS time,\n  statistics.main_branch_mau AS \"Main Branch\",\n  statistics.latest_branch_mau AS \"Latest Branch\",\n  statistics.previous_branch_mau AS \"Previous Branch\",\n  statistics.deprecated_branch_mau AS \"Deprecated Branch\",\n  statistics.eol_branch_mau AS \"EOL Branches\"\nFROM\n  statistics\nORDER BY\n  statistics.date DESC\nLIMIT 10;",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": [
                {
                  "kind": "organize",
                  "spec": {
                    "id": "organize",
                    "options": {}
                  }
                },
                {
                  "kind": "sortBy",
                  "spec": {
                    "id": "sortBy",
                    "options": {
                      "fields": {},
                      "sort": [
                        {
                          "field": "time"
                        }
                      ]
                    }
                  }
                },
                {
                  "kind": "formatTime",
                  "spec": {
                    "id": "formatTime",
                    "options": {
                      "outputFormat": "DD-MMM",
                      "timeField": "time",
                      "timezone": "utc",
                      "useTimezone": true
                    }
                  }
                }
              ]
            }
          },
          "description": "",
          "id": 91,
          "links": [],
          "title": "Branches by MAU",
          "vizConfig": {
            "group": "barchart",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "fillOpacity": 80,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "lineWidth": 1,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": 0
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "options": {
                "barRadius": 0.1,
                "barWidth": 0.97,
                "fullHighlight": false,
                "groupWidth": 0.7,
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "orientation": "horizontal",
                "showValue": "never",
                "stacking": "normal",
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                },
                "xField": "time",
                "xTickLabelRotation": 0,
                "xTickLabelSpacing": 0
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-96": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "WITH prefixes AS (\n  SELECT DISTINCT branch AS prefix\n  FROM release_versions \n  WHERE branch IS NOT NULL\n    AND status = 'eol'\n),\nmatched AS (\n  SELECT\n    p.prefix,\n    COUNT(md.software_version) AS total\n  FROM prefixes p\n  LEFT JOIN mastodon_domains md\n    ON md.software_version LIKE p.prefix || '%'\n  GROUP BY p.prefix\n)\nSELECT prefix, total\nFROM matched\nORDER BY prefix;",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "",
          "id": 96,
          "links": [],
          "title": "End of Life (EOL) Branch by Instances",
          "vizConfig": {
            "group": "piechart",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "fixedColor": "light-red",
                    "mode": "fixed"
                  },
                  "custom": {
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    }
                  },
                  "decimals": 1,
                  "unit": "locale"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "EOL"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3.2"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3.3"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3.1"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3.4"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3.5"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "options": {
                "displayLabels": [],
                "legend": {
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true,
                  "values": [
                    "percent"
                  ]
                },
                "pieType": "donut",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": true
                },
                "sort": "desc",
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      },
      "panel-97": {
        "kind": "Panel",
        "spec": {
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "hidden": false,
                    "query": {
                      "group": "grafana-postgresql-datasource",
                      "kind": "DataQuery",
                      "spec": {
                        "editorMode": "code",
                        "format": "table",
                        "rawQuery": true,
                        "rawSql": "WITH prefixes AS (\n  SELECT DISTINCT branch AS prefix\n  FROM release_versions \n  WHERE branch IS NOT NULL\n    AND status = 'eol'\n),\nmatched AS (\n  SELECT\n    p.prefix,\n    COALESCE(SUM(md.active_users_monthly), 0) AS total_active_users\n  FROM prefixes p\n  LEFT JOIN mastodon_domains md\n    ON md.software_version LIKE p.prefix || '%'\n  GROUP BY p.prefix\n)\nSELECT prefix, total_active_users\nFROM matched\nORDER BY prefix;",
                        "sql": {
                          "columns": [
                            {
                              "parameters": [],
                              "type": "function"
                            }
                          ],
                          "groupBy": [
                            {
                              "property": {
                                "type": "string"
                              },
                              "type": "groupBy"
                            }
                          ],
                          "limit": 50
                        }
                      },
                      "version": "v0"
                    },
                    "refId": "A"
                  }
                }
              ],
              "queryOptions": {},
              "transformations": []
            }
          },
          "description": "",
          "id": 97,
          "links": [],
          "title": "End of Life (EOL) Branch by MAUs",
          "vizConfig": {
            "group": "piechart",
            "kind": "VizConfig",
            "spec": {
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "fixedColor": "light-red",
                    "mode": "fixed"
                  },
                  "custom": {
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    }
                  },
                  "decimals": 1,
                  "unit": "locale"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "EOL"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3.2"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3.4"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3.1"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3.3"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "3.5"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "options": {
                "displayLabels": [],
                "legend": {
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true,
                  "values": [
                    "percent"
                  ]
                },
                "pieType": "donut",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": true
                },
                "sort": "desc",
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              }
            },
            "version": "12.4.0-22066786794"
          }
        }
      }
    },
    "layout": {
      "kind": "RowsLayout",
      "spec": {
        "rows": [
          {
            "kind": "RowsLayoutRow",
            "spec": {
              "collapse": false,
              "hideHeader": true,
              "layout": {
                "kind": "AutoGridLayout",
                "spec": {
                  "columnWidthMode": "standard",
                  "items": [
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-1"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-41"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-101"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-102"
                        }
                      }
                    }
                  ],
                  "maxColumnCount": 4,
                  "rowHeightMode": "short"
                }
              },
              "title": "Big Numbers"
            }
          },
          {
            "kind": "RowsLayoutRow",
            "spec": {
              "collapse": false,
              "fillScreen": false,
              "hideHeader": false,
              "layout": {
                "kind": "GridLayout",
                "spec": {
                  "items": [
                    {
                      "kind": "GridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-11"
                        },
                        "height": 7,
                        "width": 6,
                        "x": 0,
                        "y": 0
                      }
                    },
                    {
                      "kind": "GridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-21"
                        },
                        "height": 7,
                        "width": 6,
                        "x": 6,
                        "y": 0
                      }
                    },
                    {
                      "kind": "GridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-22"
                        },
                        "height": 7,
                        "width": 6,
                        "x": 12,
                        "y": 0
                      }
                    },
                    {
                      "kind": "GridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-73"
                        },
                        "height": 7,
                        "width": 6,
                        "x": 18,
                        "y": 0
                      }
                    },
                    {
                      "kind": "GridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-32"
                        },
                        "height": 7,
                        "width": 6,
                        "x": 0,
                        "y": 7
                      }
                    },
                    {
                      "kind": "GridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-35"
                        },
                        "height": 7,
                        "width": 6,
                        "x": 6,
                        "y": 7
                      }
                    },
                    {
                      "kind": "GridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-36"
                        },
                        "height": 7,
                        "width": 6,
                        "x": 12,
                        "y": 7
                      }
                    },
                    {
                      "kind": "GridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-74"
                        },
                        "height": 7,
                        "width": 6,
                        "x": 18,
                        "y": 7
                      }
                    }
                  ]
                }
              },
              "title": "Patch Adoption"
            }
          },
          {
            "kind": "RowsLayoutRow",
            "spec": {
              "collapse": false,
              "layout": {
                "kind": "AutoGridLayout",
                "spec": {
                  "columnWidthMode": "standard",
                  "items": [
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-70"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-71"
                        }
                      }
                    }
                  ],
                  "maxColumnCount": 1,
                  "rowHeightMode": "standard"
                }
              },
              "title": "Branch Adoption"
            }
          },
          {
            "kind": "RowsLayoutRow",
            "spec": {
              "collapse": false,
              "layout": {
                "kind": "AutoGridLayout",
                "spec": {
                  "columnWidthMode": "standard",
                  "items": [
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-5"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-7"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-66"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-67"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-96"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-97"
                        }
                      }
                    }
                  ],
                  "maxColumnCount": 2,
                  "rowHeightMode": "tall"
                }
              },
              "title": "Adoption Donuts"
            }
          },
          {
            "kind": "RowsLayoutRow",
            "spec": {
              "collapse": false,
              "layout": {
                "kind": "AutoGridLayout",
                "spec": {
                  "columnWidthMode": "standard",
                  "items": [
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-90"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-91"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-88"
                        }
                      }
                    },
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-89"
                        }
                      }
                    }
                  ],
                  "maxColumnCount": 2,
                  "rowHeightMode": "tall"
                }
              },
              "title": "Trends"
            }
          },
          {
            "kind": "RowsLayoutRow",
            "spec": {
              "collapse": false,
              "layout": {
                "kind": "AutoGridLayout",
                "spec": {
                  "columnWidthMode": "wide",
                  "fillScreen": true,
                  "items": [
                    {
                      "kind": "AutoGridLayoutItem",
                      "spec": {
                        "element": {
                          "kind": "ElementReference",
                          "name": "panel-76"
                        }
                      }
                    }
                  ],
                  "maxColumnCount": 1,
                  "rowHeightMode": "tall"
                }
              },
              "title": "All Data"
            }
          }
        ]
      }
    },
    "links": [
      {
        "asDropdown": false,
        "icon": "doc",
        "includeVars": false,
        "keepTime": false,
        "tags": [],
        "targetBlank": true,
        "title": "Documentation",
        "tooltip": "",
        "type": "link",
        "url": "https://docs.vmst.io/vmcrawl"
      },
      {
        "asDropdown": false,
        "icon": "info",
        "includeVars": false,
        "keepTime": false,
        "tags": [],
        "targetBlank": true,
        "title": "Source",
        "tooltip": "",
        "type": "link",
        "url": "https://github.com/vmstio/vmcrawl"
      },
      {
        "asDropdown": false,
        "icon": "external link",
        "includeVars": false,
        "keepTime": false,
        "tags": [],
        "targetBlank": true,
        "title": "Mastodon",
        "tooltip": "",
        "type": "link",
        "url": "https://vmst.io/@vmcrawl"
      }
    ],
    "liveNow": true,
    "preload": false,
    "tags": [],
    "timeSettings": {
      "autoRefresh": "5m",
      "autoRefreshIntervals": [
        "5s",
        "10s",
        "30s",
        "1m",
        "5m",
        "15m",
        "30m",
        "1h",
        "2h",
        "1d"
      ],
      "fiscalYearStartMonth": 0,
      "from": "now-5m",
      "hideTimepicker": false,
      "timezone": "browser",
      "to": "now"
    },
    "title": "vmcrawl",
    "variables": [
      {
        "kind": "QueryVariable",
        "spec": {
          "allowCustomValue": true,
          "current": {
            "text": "",
            "value": ""
          },
          "definition": "SELECT branch\nFROM release_versions\nWHERE n_level = -1;",
          "hide": "hideVariable",
          "includeAll": false,
          "multi": false,
          "name": "main_branch",
          "options": [],
          "query": {
            "group": "grafana-postgresql-datasource",
            "kind": "DataQuery",
            "spec": {
              "dataset": "vmcrawl",
              "editorMode": "code",
              "format": "table",
              "query": "SELECT branch\nFROM release_versions\nWHERE n_level = -1;",
              "rawQuery": true,
              "rawSql": "SELECT branch\nFROM release_versions\nWHERE n_level = -1;",
              "refId": "SQLVariableQueryEditor-VariableQuery",
              "sql": {
                "columns": [
                  {
                    "parameters": [],
                    "type": "function"
                  }
                ],
                "groupBy": [
                  {
                    "property": {
                      "type": "string"
                    },
                    "type": "groupBy"
                  }
                ],
                "limit": 50
              },
              "table": "release_versions"
            },
            "version": "v0"
          },
          "refresh": "onDashboardLoad",
          "regex": "",
          "regexApplyTo": "value",
          "skipUrlSync": false,
          "sort": "disabled"
        }
      },
      {
        "kind": "QueryVariable",
        "spec": {
          "allowCustomValue": true,
          "current": {
            "text": "",
            "value": ""
          },
          "definition": "SELECT branch\nFROM release_versions\nWHERE (status = 'main' OR status = 'release');",
          "hide": "hideVariable",
          "includeAll": true,
          "multi": true,
          "name": "supported_branches",
          "options": [],
          "query": {
            "group": "grafana-postgresql-datasource",
            "kind": "DataQuery",
            "spec": {
              "dataset": "vmcrawl",
              "editorMode": "code",
              "format": "table",
              "query": "SELECT branch\nFROM release_versions\nWHERE (status = 'main' OR status = 'release');",
              "rawQuery": true,
              "rawSql": "SELECT branch\nFROM release_versions\nWHERE (status = 'main' OR status = 'release');",
              "refId": "SQLVariableQueryEditor-VariableQuery",
              "sql": {
                "columns": [
                  {
                    "parameters": [],
                    "type": "function"
                  }
                ],
                "groupBy": [
                  {
                    "property": {
                      "type": "string"
                    },
                    "type": "groupBy"
                  }
                ],
                "limit": 50
              },
              "table": "release_versions"
            },
            "version": "v0"
          },
          "refresh": "onDashboardLoad",
          "regex": "",
          "regexApplyTo": "value",
          "skipUrlSync": false,
          "sort": "disabled"
        }
      },
      {
        "kind": "QueryVariable",
        "spec": {
          "allowCustomValue": true,
          "current": {
            "text": "",
            "value": ""
          },
          "definition": "SELECT latest\nFROM release_versions\nWHERE (status = 'main' OR status = 'release');",
          "hide": "dontHide",
          "includeAll": true,
          "multi": true,
          "name": "supported_patches",
          "options": [],
          "query": {
            "group": "grafana-postgresql-datasource",
            "kind": "DataQuery",
            "spec": {
              "dataset": "vmcrawl",
              "editorMode": "code",
              "format": "table",
              "query": "SELECT latest\nFROM release_versions\nWHERE (status = 'main' OR status = 'release');",
              "rawQuery": true,
              "rawSql": "SELECT latest\nFROM release_versions\nWHERE (status = 'main' OR status = 'release');",
              "refId": "SQLVariableQueryEditor-VariableQuery",
              "sql": {
                "columns": [
                  {
                    "parameters": [],
                    "type": "function"
                  }
                ],
                "groupBy": [
                  {
                    "property": {
                      "type": "string"
                    },
                    "type": "groupBy"
                  }
                ],
                "limit": 50
              },
              "table": "release_versions"
            },
            "version": "v0"
          },
          "refresh": "onDashboardLoad",
          "regex": "",
          "regexApplyTo": "value",
          "skipUrlSync": false,
          "sort": "numericalAsc"
        }
      },
      {
        "kind": "QueryVariable",
        "spec": {
          "allowCustomValue": true,
          "current": {
            "text": "",
            "value": ""
          },
          "definition": "SELECT latest\nFROM release_versions\nWHERE n_level = -1;",
          "hide": "hideVariable",
          "includeAll": false,
          "multi": false,
          "name": "main_latest",
          "options": [],
          "query": {
            "group": "grafana-postgresql-datasource",
            "kind": "DataQuery",
            "spec": {
              "dataset": "vmcrawl",
              "editorMode": "code",
              "format": "table",
              "query": "SELECT latest\nFROM release_versions\nWHERE n_level = -1;",
              "rawQuery": true,
              "rawSql": "SELECT latest\nFROM release_versions\nWHERE n_level = -1;",
              "refId": "SQLVariableQueryEditor-VariableQuery",
              "sql": {
                "columns": [
                  {
                    "parameters": [],
                    "type": "function"
                  }
                ],
                "groupBy": [
                  {
                    "property": {
                      "type": "string"
                    },
                    "type": "groupBy"
                  }
                ],
                "limit": 50
              },
              "table": "release_versions"
            },
            "version": "v0"
          },
          "refresh": "onDashboardLoad",
          "regex": "",
          "regexApplyTo": "value",
          "skipUrlSync": false,
          "sort": "disabled"
        }
      },
      {
        "kind": "QueryVariable",
        "spec": {
          "allowCustomValue": true,
          "current": {
            "text": "",
            "value": ""
          },
          "definition": "SELECT latest\nFROM release_versions\nWHERE n_level = 0;",
          "hide": "hideVariable",
          "includeAll": false,
          "multi": false,
          "name": "latest_latest",
          "options": [],
          "query": {
            "group": "grafana-postgresql-datasource",
            "kind": "DataQuery",
            "spec": {
              "dataset": "vmcrawl",
              "editorMode": "code",
              "format": "table",
              "query": "SELECT latest\nFROM release_versions\nWHERE n_level = 0;",
              "rawQuery": true,
              "rawSql": "SELECT latest\nFROM release_versions\nWHERE n_level = 0;",
              "refId": "SQLVariableQueryEditor-VariableQuery",
              "sql": {
                "columns": [
                  {
                    "parameters": [],
                    "type": "function"
                  }
                ],
                "groupBy": [
                  {
                    "property": {
                      "type": "string"
                    },
                    "type": "groupBy"
                  }
                ],
                "limit": 50
              },
              "table": "release_versions"
            },
            "version": "v0"
          },
          "refresh": "onDashboardLoad",
          "regex": "",
          "regexApplyTo": "value",
          "skipUrlSync": false,
          "sort": "disabled"
        }
      },
      {
        "kind": "QueryVariable",
        "spec": {
          "allowCustomValue": true,
          "current": {
            "text": "",
            "value": ""
          },
          "definition": "SELECT branch\nFROM release_versions\nWHERE n_level = 0;",
          "hide": "hideVariable",
          "includeAll": false,
          "multi": false,
          "name": "latest_branch",
          "options": [],
          "query": {
            "group": "grafana-postgresql-datasource",
            "kind": "DataQuery",
            "spec": {
              "dataset": "vmcrawl",
              "editorMode": "code",
              "format": "table",
              "query": "SELECT branch\nFROM release_versions\nWHERE n_level = 0;",
              "rawQuery": true,
              "rawSql": "SELECT branch\nFROM release_versions\nWHERE n_level = 0;",
              "refId": "SQLVariableQueryEditor-VariableQuery",
              "sql": {
                "columns": [
                  {
                    "parameters": [],
                    "type": "function"
                  }
                ],
                "groupBy": [
                  {
                    "property": {
                      "type": "string"
                    },
                    "type": "groupBy"
                  }
                ],
                "limit": 50
              },
              "table": "release_versions"
            },
            "version": "v0"
          },
          "refresh": "onDashboardLoad",
          "regex": "",
          "regexApplyTo": "value",
          "skipUrlSync": false,
          "sort": "disabled"
        }
      },
      {
        "kind": "QueryVariable",
        "spec": {
          "allowCustomValue": true,
          "current": {
            "text": "",
            "value": ""
          },
          "definition": "SELECT latest\nFROM release_versions\nWHERE n_level = 1;",
          "hide": "hideVariable",
          "includeAll": false,
          "multi": false,
          "name": "previous_latest",
          "options": [],
          "query": {
            "group": "grafana-postgresql-datasource",
            "kind": "DataQuery",
            "spec": {
              "dataset": "vmcrawl",
              "editorMode": "code",
              "format": "table",
              "query": "SELECT latest\nFROM release_versions\nWHERE n_level = 1;",
              "rawQuery": true,
              "rawSql": "SELECT latest\nFROM release_versions\nWHERE n_level = 1;",
              "refId": "SQLVariableQueryEditor-VariableQuery",
              "sql": {
                "columns": [
                  {
                    "parameters": [],
                    "type": "function"
                  }
                ],
                "groupBy": [
                  {
                    "property": {
                      "type": "string"
                    },
                    "type": "groupBy"
                  }
                ],
                "limit": 50
              },
              "table": "release_versions"
            },
            "version": "v0"
          },
          "refresh": "onDashboardLoad",
          "regex": "",
          "regexApplyTo": "value",
          "skipUrlSync": false,
          "sort": "disabled"
        }
      },
      {
        "kind": "QueryVariable",
        "spec": {
          "allowCustomValue": true,
          "current": {
            "text": "",
            "value": ""
          },
          "definition": "SELECT latest\nFROM release_versions\nWHERE n_level = 2;",
          "hide": "hideVariable",
          "includeAll": false,
          "multi": false,
          "name": "deprecated_latest",
          "options": [],
          "query": {
            "group": "grafana-postgresql-datasource",
            "kind": "DataQuery",
            "spec": {
              "dataset": "vmcrawl",
              "editorMode": "code",
              "format": "table",
              "query": "SELECT latest\nFROM release_versions\nWHERE n_level = 2;",
              "rawQuery": true,
              "rawSql": "SELECT latest\nFROM release_versions\nWHERE n_level = 2;",
              "refId": "SQLVariableQueryEditor-VariableQuery",
              "sql": {
                "columns": [
                  {
                    "parameters": [],
                    "type": "function"
                  }
                ],
                "groupBy": [
                  {
                    "property": {
                      "type": "string"
                    },
                    "type": "groupBy"
                  }
                ],
                "limit": 50
              },
              "table": "release_versions"
            },
            "version": "v0"
          },
          "refresh": "onDashboardLoad",
          "regex": "",
          "regexApplyTo": "value",
          "skipUrlSync": false,
          "sort": "disabled"
        }
      },
      {
        "kind": "QueryVariable",
        "spec": {
          "allowCustomValue": true,
          "current": {
            "text": "",
            "value": ""
          },
          "definition": "SELECT branch\nFROM release_versions\nWHERE n_level = 1;",
          "hide": "hideVariable",
          "includeAll": false,
          "multi": false,
          "name": "previous_branch",
          "options": [],
          "query": {
            "group": "grafana-postgresql-datasource",
            "kind": "DataQuery",
            "spec": {
              "dataset": "vmcrawl",
              "editorMode": "code",
              "format": "table",
              "query": "SELECT branch\nFROM release_versions\nWHERE n_level = 1;",
              "rawQuery": true,
              "rawSql": "SELECT branch\nFROM release_versions\nWHERE n_level = 1;",
              "refId": "SQLVariableQueryEditor-VariableQuery",
              "sql": {
                "columns": [
                  {
                    "parameters": [],
                    "type": "function"
                  }
                ],
                "groupBy": [
                  {
                    "property": {
                      "type": "string"
                    },
                    "type": "groupBy"
                  }
                ],
                "limit": 50
              },
              "table": "release_versions"
            },
            "version": "v0"
          },
          "refresh": "onDashboardLoad",
          "regex": "",
          "regexApplyTo": "value",
          "skipUrlSync": false,
          "sort": "disabled"
        }
      },
      {
        "kind": "QueryVariable",
        "spec": {
          "allowCustomValue": true,
          "current": {
            "text": "",
            "value": ""
          },
          "definition": "SELECT branch\nFROM release_versions\nWHERE n_level = 2;",
          "hide": "hideVariable",
          "includeAll": false,
          "multi": false,
          "name": "deprecated_branch",
          "options": [],
          "query": {
            "group": "grafana-postgresql-datasource",
            "kind": "DataQuery",
            "spec": {
              "dataset": "vmcrawl",
              "editorMode": "code",
              "format": "table",
              "query": "SELECT branch\nFROM release_versions\nWHERE n_level = 2;",
              "rawQuery": true,
              "rawSql": "SELECT branch\nFROM release_versions\nWHERE n_level = 2;",
              "refId": "SQLVariableQueryEditor-VariableQuery",
              "sql": {
                "columns": [
                  {
                    "parameters": [],
                    "type": "function"
                  }
                ],
                "groupBy": [
                  {
                    "property": {
                      "type": "string"
                    },
                    "type": "groupBy"
                  }
                ],
                "limit": 50
              },
              "table": "release_versions"
            },
            "version": "v0"
          },
          "refresh": "onDashboardLoad",
          "regex": "",
          "regexApplyTo": "value",
          "skipUrlSync": false,
          "sort": "disabled"
        }
      }
    ]
  },
  "status": {}
}